<?xml version="1.0" encoding="UTF-8"?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.szreach.mediacenter.auth.role.dao.RoleDao">
	<resultMap type="RoleBean" id="RoleMap">
		<id property="id" column="id"></id>
		<result property="roleName" column="role_name"></result>
		<result property="createTime" column="create_time"/>
	</resultMap>
	<select id="getByID" parameterType="string" resultMap="RoleMap">
		<![CDATA[ 
		SELECT * from tb_role  WHERE id = #{id}
		]]>
	</select>
	
	<insert id="insert" parameterType="RoleBean">
		insert into tb_role(id, role_name, create_time) values(
		   #{id},
		   #{roleName},
		   #{createTime}
		)
	</insert>
	<update id="update" parameterType="RoleBean">
		update tb_role set role_name=#{roleName}
		WHERE id = #{id}
	</update>
	
	<select id="count" resultType="int">
        select count(*) c from tb_role
           <where>
        	<if test="roleName != null and roleName != ''">
        		and role_name like "%"#{roleName}"%"
        	</if>
        	
        </where>
    </select>
    
    <select id="query" parameterType="RoleBean" resultMap="RoleMap" >
        select *  from tb_role
        <where>
        	<if test="roleName != null and roleName != ''">
        		and role_name like "%"#{roleName}"%"
        	</if>
        	
        </where>
        <if test="endIndex > 0">
        		limit #{beginIndex}, #{endIndex}
        	</if>
    </select>
    <delete id="delete" parameterType="string">
    	delete from tb_role where id=#{id}
    </delete>
   
</mapper> 